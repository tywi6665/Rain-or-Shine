(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(63),o=a.n(r),l=(a(79),a(2)),i=function(){var e,t=Object(n.useState)({lat:null,lng:null,location:null}),a=Object(l.a)(t,2),c=a[0],r=a[1],o=!0,i=function(e){o&&r({lat:e.coords.latitude,lng:e.coords.longitude})},s=function(e){o&&r({lat:"39.7392",lng:"-104.9903",location:"Denver"})};return Object(n.useEffect)(function(){return navigator.geolocation.getCurrentPosition(i,s),e=navigator.geolocation.watchPosition(i,s),function(){o=!1,navigator.geolocation.clearWatch(e)}},[]),c},s=a(71),m=(a(80),function(e){var t=e.dayOrNight,a=e.currentWeather;return c.a.createElement("div",{className:"backgroundImage ".concat(t," ").concat(a,"-background")},"cloudy"===a||"rain"===a||"snow"===a||"fog"===a?[c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"sky",style:{background:"linear-gradient(to bottom, darkgrey, #ffffff)"}}),c.a.createElement("div",{className:"shelf-cloud"},c.a.createElement("div",{className:"shelf-cloud-left"}),c.a.createElement("div",{className:"shelf-cloud-right"}))),"rain"===a||"snow"===a?function(){var e=Object(s.a)(Array(150).keys());return c.a.createElement("div",{className:"".concat(a,"ing")},e.map(function(e){return c.a.createElement("i",{className:a,key:e})}))}():null]:[c.a.createElement("div",{className:"sky",style:{background:"linear-gradient(to bottom, #845EC2, #D65DB1, #FF6F91, #FF9671, #FFC75F, #F9F871)"},key:"sky"}),"night"===t?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"stars"},c.a.createElement("div",{className:"star-group1"}),c.a.createElement("div",{className:"star-group2"}),c.a.createElement("div",{className:"star-group3"})),c.a.createElement("div",{className:"moon"},c.a.createElement("div",{className:"crater crater1"}),c.a.createElement("div",{className:"crater crater2"}),c.a.createElement("div",{className:"crater crater3"}))):"cloudy"===a||"rain"===a||"snow"===a||"fog"===a?null:c.a.createElement("div",{className:"sun",key:"sun"},c.a.createElement("div",{className:"ray-container"},c.a.createElement("div",{className:"ray ray1"}),c.a.createElement("div",{className:"ray ray2"}),c.a.createElement("div",{className:"ray ray3"}),c.a.createElement("div",{className:"ray ray4"}),c.a.createElement("div",{className:"ray ray5"}),c.a.createElement("div",{className:"ray ray6"}),c.a.createElement("div",{className:"ray ray7"}),c.a.createElement("div",{className:"ray ray8"}),c.a.createElement("div",{className:"ray ray9"}),c.a.createElement("div",{className:"ray ray10"})))],c.a.createElement("div",{className:"clouds"},c.a.createElement("div",{className:"cloud small-cloud cloud1"}),c.a.createElement("div",{className:"cloud small-cloud cloud2"}),c.a.createElement("div",{className:"cloud large-cloud cloud3"}),c.a.createElement("div",{className:"cloud large-cloud cloud4"}),c.a.createElement("div",{className:"cloud small-cloud cloud5"})),c.a.createElement("div",{className:"mountains"},c.a.createElement("div",{className:"large-mountain-farleft ".concat("snow"===a?"snow-cap-left":"")}),c.a.createElement("div",{className:"large-mountain-farright ".concat("snow"===a?"snow-cap-right":"")}),c.a.createElement("div",{className:"small-mountain-left ".concat("snow"===a?"snow-cap-left":"")}),c.a.createElement("div",{className:"small-mountain-right ".concat("snow"===a?"snow-cap-right":"")}),c.a.createElement("div",{className:"medium-mountain-left ".concat("snow"===a?"snow-cap-left":"")}),c.a.createElement("div",{className:"medium-mountain-right ".concat("snow"===a?"snow-cap-right":"")}),c.a.createElement("div",{className:"large-mountain-left ".concat("snow"===a?"snow-cap-left":"")}),c.a.createElement("div",{className:"large-mountain-right ".concat("snow"===a?"snow-cap-right":"")}),c.a.createElement("div",{className:"medium-mountain-farleft ".concat("snow"===a?"snow-cap-left":"")}),c.a.createElement("div",{className:"medium-mountain-farright ".concat("snow"===a?"snow-cap-right":"")})))}),u=(a(81),function(e){return c.a.createElement("div",{className:"container ".concat(e.gridArea)},e.children)}),d=(a(44),function(e){return c.a.createElement("i",{className:"wu wu-black wu-".concat(e.icon," wu-").concat(e.dayOrNight," wu-").concat(e.size," icon ").concat(e.gridArea)})}),p=(a(82),function(e){var t=e.children,a=e.weatherInfo,n=e.weatherCondition,r=e.translate;return c.a.createElement("div",{className:"weatherDetail"},r?c.a.createElement("p",{className:n,style:{textIndent:"".concat(0===a?"0":"".concat(10*a-10,"%"))}},a):c.a.createElement("p",{className:n},a),t,c.a.createElement("p",null,n))}),f=function(e){var t=e.currentTarget.getBoundingClientRect(),a=e.clientX-t.left,n=e.clientY-t.top;return{x:g(a/t.width*200-100),y:g(n/t.height*200-100)}},g=function(e){return Math.max(Math.min(e,100),-100)},E=function(e){var t=e.children,a=Object(n.useState)({x:0,y:0}),r=Object(l.a)(a,2),o=r[0],i=r[1],s=Object(n.useState)(null),m=Object(l.a)(s,2),u=m[0],d=m[1],p=Object(n.useCallback)(function(e){i(f(e)),setTimeout(function(){d(0)},u)},[u]),g=Object(n.useCallback)(function(e){u||i(f(e))},[u]),E=Object(n.useCallback)(function(e){d(250),setTimeout(function(){d(100)}),i({x:0,y:0})},[]),h=o.x||o.y;return c.a.createElement("div",{className:"tilt",onMouseEnter:p,onMouseMove:g,onMouseLeave:E},c.a.createElement("div",{className:"innerTilt",style:{transform:"\n                        perspective(".concat("10000px",")\n                        rotateX(").concat(.2*o.y,"deg)\n                        rotateY(").concat(-.2*o.x,"deg)\n                        ").concat(h?"scale3d(".concat(1,", ").concat(1,", ").concat(1,")"):"","\n                        "),transition:u?"transfrom ".concat(u,"ms ").concat("ease-in-out",",\n                            filter ").concat(u,"ms ").concat("ease-in-out"):""}},t))},h=a(1),v=(a(83),function(e){var t=e.forecast,a=e.windowWidth,r=e.isMetric,o=Object(n.useState)(null),i=Object(l.a)(o,2),s=(i[0],i[1]);return Object(n.useEffect)(function(){if(t){var e=[];t.forEach(function(t){e.push({date:t.time,temp:t.temperatureHigh,tempTime:t.temperatureHighTime,icon:t.icon.replace(/-/g,"").replace("day","").replace("night","")}),e.push({date:t.time,temp:t.temperatureLow,tempTime:t.temperatureLowTime,icon:t.icon.replace(/-/g,"").replace("day","").replace("night","")})}),r&&e.forEach(function(e){e.temp=Number((5*(e.temp-32)/9).toString().slice(0,5))}),s(e),function(e){h.i(".d3plot").remove();var t,n={top:20,right:20,bottom:30,left:50};t=a<550?a/1.07-n.left-n.right:a/1.15-n.left-n.right;var c=555-n.top-n.bottom,o=h.k("%s");e.forEach(function(e){e.tempTime=o(e.tempTime)});var l=e.reduce(function(e,t){return e.temp>t.temp?e:t}),i=e.reduce(function(e,t){return t.temp>e.temp?e:t}),s=h.i(".plot").append("svg").attr("class","d3plot").attr("width",t+n.left+n.right).attr("height",c+n.top+n.bottom).append("g").attr("transform","translate(".concat(n.left,", ").concat(n.top,")")),m=h.h().domain([e[0].tempTime,e[e.length-1].tempTime]).range([0,t]),u=h.g().domain(h.e(e,function(e){return e.temp})).range([c-25,0]),d=h.a(m),p=h.b(u),f=h.f().curve(h.c).x(function(e){return m(e.tempTime)}).y(function(e){return u(e.temp)});s.append("g").attr("class","x axis").attr("transform","translate(0, ".concat(c-20,")")).call(d.tickFormat(h.j("%A"))),s.append("text").attr("class","plotText").attr("transform","translate(".concat(t/2-20,", 0)")).style("text-anchor","middle").text("7 Day Forecast"),s.append("g").attr("class","y axis").call(p),s.append("text").attr("transform","rotate(-90)").attr("y",0-(n.left-10)).attr("x",0-c/2).attr("dy","1em").style("text-anchor","middle").text(r?"Temperature(C)":"Temperature(F)"),s.append("linearGradient").attr("id","temp-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1",u(i.temp)).attr("x2",0).attr("y2",u(l.temp)).selectAll("stop").data([{offset:"0%",color:"#1A12FE"},{offset:"100%",color:"#FE1212"}]).enter().append("stop").attr("offset",function(e){return e.offset}).attr("stop-color",function(e){return e.color}),s.append("path").datum(e).attr("class","line").attr("d",f),s.selectAll(".dot").data(e).enter().append("circle").attr("class","dot").attr("cx",function(e,t){return m(e.tempTime)}).attr("cy",function(e){return u(e.temp)}).attr("r",2.5).on("mouseover",function(e){h.i(this).transition().duration(200).attr("r",10),g.transition().delay(100).duration(200).style("opacity",.9),g.html('<i class="wu wu-white wu-'.concat(e.icon,' wu-64 icon"></i><br/><strong>').concat(e.temp,"\xba").concat(r?"C":"F","</strong><br/><p>").concat(e.tempTime.toString().split("").slice(0,21).join(""),"</p>")).style("left","".concat(h.d.pageX-55,"px")).style("top","".concat(h.d.pageY+20,"px"))}).on("mouseout",function(e){h.i(this).transition().attr("r",2.5),g.transition().duration(500).style("opacity",0)});var g=h.i(".plot").append("div").attr("class","toolTip").style("opacity",0)}(e)}},[t,r,a]),c.a.createElement("div",{className:"plot"})}),y=a(148),w=a(40),N=a.n(w),b={getWeather:function(e){return N.a.get("https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/".concat("c8e994155c8d795aa09cb13ae49118ad","/").concat(e.lat,",").concat(e.lng))},getGeocode:function(e){return N.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(e,"&key=").concat("AIzaSyBZewJWJ5fP2hHBNY8bxx3tqZuIhzEJB5E"))}};a(102);var S=function(){var e,t=i(),a=Object(n.useState)(null),r=Object(l.a)(a,2),o=r[0],s=r[1],f=Object(n.useState)(null),g=Object(l.a)(f,2),h=g[0],w=g[1],N=Object(n.useState)(""),S=Object(l.a)(N,2),O=S[0],k=S[1],j=Object(n.useState)(!1),x=Object(l.a)(j,2),W=x[0],T=x[1],C=Object(n.useState)("Current Location"),F=Object(l.a)(C,2),I=F[0],D=F[1],A=Object(n.useState)({lat:null,lng:null}),M=Object(l.a)(A,2),B=M[0],R=M[1],z=Object(n.useState)(window.innerWidth),L=Object(l.a)(z,2),P=L[0],J=L[1];return Object(n.useEffect)(function(){var e=function(){return J(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),Object(n.useEffect)(function(){B.lat||(R({lat:t.lat,lng:t.lng}),D(t.location)),B.lat&&b.getWeather(B).then(function(e){var t=e.data.currently,a=e.data.daily.data;t.icon=t.icon.replace(/-/g,"").replace("day","").replace("night",""),w(a),s(t);var n=Number(Date.now().toString().slice(0,10));n>a[0].sunriseTime&&n<a[0].sunsetTime?k("day"):k("night")})},[B,t.lat,t.lng]),c.a.createElement("div",{className:"app",style:{color:"".concat("night"===O?"whitesmoke":"black")}},c.a.createElement("form",{className:"enterLocation",onSubmit:function(e){e.preventDefault(),b.getGeocode(I).then(function(e){console.log(e),R(e.data.results[0].geometry.location)})}},c.a.createElement(y.a,{className:"searchIcon",type:"search"}),c.a.createElement("input",{type:"search",placeholder:I,value:I,onChange:function(e){return D(e.target.value)}})),c.a.createElement("div",{className:"unitToggle"},c.a.createElement("input",{type:"checkbox",id:"switch",onChange:function(){T(!W)}}),c.a.createElement("label",{htmlFor:"switch"})),O?c.a.createElement(m,{dayOrNight:O,currentWeather:o.icon,key:o.icon}):"",c.a.createElement(u,{gridArea:"header"},c.a.createElement("p",{className:"title"},"Welcome to",c.a.createElement("span",{className:"titleRain"},"Rain",c.a.createElement("i",{className:"titleRainDrops"}),c.a.createElement("i",{className:"titleRainDrops"}),c.a.createElement("i",{className:"titleRainDrops"}),c.a.createElement("i",{className:"titleRainDrops"}),c.a.createElement("i",{className:"titleRainDrops"})),"or",c.a.createElement("span",{className:"titleShine"},"Shine!")),c.a.createElement("div",{className:"scrollingText"},h?c.a.createElement("p",null,h[0].summary):null)),o?c.a.createElement(c.a.Fragment,null,c.a.createElement(E,null,c.a.createElement(u,{gridArea:"details"},c.a.createElement(p,{weatherCondition:W?"Temperature(C)":"Temperature(F)",weatherInfo:W?(5*(o.temperature-32)/9).toString().slice(0,5):o.temperature},c.a.createElement("div",{className:"thermometer"})),c.a.createElement(p,{weatherCondition:"Humidity",weatherInfo:"".concat(Math.ceil(100*o.humidity),"%")}),c.a.createElement(p,{weatherCondition:"Chance of Precipitation",weatherInfo:"".concat(Math.ceil(100*h[0].precipProbability),"%")},c.a.createElement("div",{className:"raindrop"})),c.a.createElement("span",null),c.a.createElement(d,{icon:o.icon,dayOrNight:O,size:P<550?"128":"256",gridArea:"weatherDetail"}),c.a.createElement("span",null),c.a.createElement(p,{weatherCondition:W?"Wind Speed(kph)":"Wind Speed(mph)",weatherInfo:W?(1.60934*o.windSpeed).toString().slice(0,4):o.windSpeed}),c.a.createElement(p,{weatherCondition:"Wind Direction",weatherInfo:(e=o.windBearing,["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.floor(e/22.5+.5)%16])},c.a.createElement(y.a,{className:"arrowIcon",type:"arrow-up",style:{transform:"rotate(".concat(o.windBearing,"deg)"),fontSize:"20px"}})),c.a.createElement(p,{weatherCondition:"UV Index",translate:!0,weatherInfo:o.uvIndex},c.a.createElement("div",{className:"uvScale"}))))):c.a.createElement("div",{className:"loadingContent"},c.a.createElement("p",null,"Retrieving Weather"),c.a.createElement(y.a,{type:"loading"})),c.a.createElement(u,{gridArea:"weatherPlot"},c.a.createElement(v,{forecast:h,windowWidth:P,isMetric:W})),c.a.createElement(u,{gridArea:"footer"},c.a.createElement("p",null,"Powered by Dark Sky"),c.a.createElement("p",null,"Made by tywi6665"),c.a.createElement("a",{href:"https://github.com/tywi6665",target:"_blank",rel:"noopener noreferrer"},c.a.createElement(y.a,{type:"github"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},73:function(e,t,a){e.exports=a(146)},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){}},[[73,1,2]]]);
//# sourceMappingURL=main.62b000db.chunk.js.map